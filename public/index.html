<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>js-streaming - Universal JavaScript Streaming Library</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dark.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
    <script type="importmap">
      {
        "imports": {
          "socket.io-client": "https://cdn.skypack.dev/socket.io-client",
          "hls.js": "https://cdn.skypack.dev/hls.js"
        }
      }
    </script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/hls.js/0.5.14/hls.js"
      integrity="sha512-Uxb1LSW1XkMpEWsi4HguYGAHbXnNP5h0On1bBlSOZmEe42ajm2TCVy6khtfr5jFfjlToaG/mrN6R5zslmOCnAg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body>
    <!-- Background -->
    <div class="bg-gradient"></div>
    <div class="particles" id="particles"></div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
      <div class="nav-container">
        <a href="#" class="logo">js-streaming</a>
        <ul class="nav-links">
          <li><a href="#protocols">Protocols</a></li>
          <li><a href="#demo">Demo</a></li>
          <li><a href="#examples">Examples</a></li>
          <li>
            <a
              href="https://github.com/keroloszakaria/js-streaming"
              target="_blank"
              >GitHub</a
            >
          </li>
        </ul>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <div class="hero-badge">
            ⚡ Universal Streaming • Zero Dependencies • TypeScript Ready
          </div>
          <h1>One Library, Every Protocol</h1>
          <p>
            The most advanced JavaScript streaming library. Support WebSocket,
            SSE, HTTP streaming, long-polling, HLS video, WebRTC, and Socket.IO
            with a single, unified API.
          </p>
          <div class="hero-buttons">
            <a href="#demo" class="btn btn-primary">🚀 Try Live Demo</a>
            <a href="#examples" class="btn btn-secondary">📚 View Examples</a>
          </div>
          <div class="stats">
            <div class="stat-card">
              <span class="stat-number">7</span>
              <span class="stat-label">Protocols Supported</span>
            </div>
            <div class="stat-card">
              <span class="stat-number">0</span>
              <span class="stat-label">Dependencies</span>
            </div>
            <div class="stat-card">
              <span class="stat-number">&lt; 50KB</span>
              <span class="stat-label">Bundle Size</span>
            </div>
            <div class="stat-card">
              <span class="stat-number">100%</span>
              <span class="stat-label">TypeScript</span>
            </div>
            <div class="stat-card">
              <span class="stat-number" id="downloadCount">--</span>
              <span class="stat-label">Monthly Downloads</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Protocols Section -->
    <section class="protocols" id="protocols">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">All Protocols, One API</h2>
          <p class="section-subtitle">
            Seamlessly switch between different streaming protocols with
            intelligent fallbacks and auto-reconnection
          </p>
        </div>
        <div class="protocols-grid">
          <div class="protocol-card" data-protocol="websocket">
            <div class="protocol-icon">🔌</div>
            <h3>WebSocket</h3>
            <p>Full-duplex communication with reconnection & buffering.</p>
          </div>
          <div class="protocol-card" data-protocol="sse">
            <div class="protocol-icon">📡</div>
            <h3>Server-Sent Events</h3>
            <p>Efficient one-way server-to-client streaming.</p>
          </div>
          <div class="protocol-card" data-protocol="http">
            <div class="protocol-icon">🌊</div>
            <h3>HTTP Streaming</h3>
            <p>Chunked transfer encoding over HTTP connections.</p>
          </div>
          <div class="protocol-card" data-protocol="long-polling">
            <div class="protocol-icon">🔄</div>
            <h3>Long Polling</h3>
            <p>Fallback strategy with intelligent polling intervals.</p>
          </div>
          <div class="protocol-card" data-protocol="hls">
            <div class="protocol-icon">🎥</div>
            <h3>HLS Video</h3>
            <p>Adaptive bitrate video streaming with hls.js fallback.</p>
          </div>
          <div class="protocol-card" data-protocol="webrtc">
            <div class="protocol-icon">🚀</div>
            <h3>WebRTC</h3>
            <p>P2P real-time data channels & media streaming.</p>
          </div>
          <div class="protocol-card" data-protocol="socketio">
            <div class="protocol-icon">⚡</div>
            <h3>Socket.IO</h3>
            <p>Event-based real-time communication with namespaces.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Demo Section -->
    <section class="demo" id="demo">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Interactive Demo</h2>
          <p class="section-subtitle">
            Test all streaming protocols with real-time monitoring
          </p>
        </div>
        <div class="demo-container">
          <div class="demo-tabs">
            <button class="demo-tab active" data-protocol="websocket">
              🔌 WebSocket
            </button>
            <button class="demo-tab" data-protocol="sse">📡 SSE</button>
            <button class="demo-tab" data-protocol="http">🌊 HTTP</button>
            <button class="demo-tab" data-protocol="long-polling">
              🔄 Long Poll
            </button>
            <button class="demo-tab" data-protocol="hls">🎥 HLS</button>
            <button class="demo-tab" data-protocol="webrtc">🚀 WebRTC</button>
            <button class="demo-tab" data-protocol="socketio">
              ⚡ Socket.IO
            </button>
          </div>
          <div class="demo-content">
            <!-- Controls -->
            <div class="demo-panel">
              <h4>🎛️ Configuration</h4>
              <div class="form-group">
                <label class="form-label">Stream URL</label>
                <input
                  type="text"
                  class="form-control"
                  id="streamUrl"
                  value="wss://echo.websocket.org"
                />
              </div>
              <div class="form-group">
                <label class="form-label">Auto Reconnect</label>
                <select class="form-control" id="autoReconnect">
                  <option value="true">Enabled</option>
                  <option value="false">Disabled</option>
                </select>
              </div>
              <div class="form-group">
                <label class="form-label">Max Retries</label>
                <input
                  type="number"
                  class="form-control"
                  id="maxRetries"
                  value="5"
                  min="0"
                  max="20"
                />
              </div>
              <div class="video-container" id="videoContainer">
                <video id="videoPlayer" controls muted></video>
              </div>
              <div
                class="form-group"
                id="sendMessageGroup"
                style="display: none"
              >
                <label class="form-label">Send Message</label>
                <div style="display: flex; gap: 0.5rem">
                  <input
                    type="text"
                    class="form-control"
                    id="messageInput"
                    placeholder="Type message..."
                  />
                  <button class="btn btn-primary" id="sendBtn">Send</button>
                </div>
              </div>
              <div style="display: flex; gap: 0.5rem; margin-top: 1.5rem">
                <button class="btn btn-primary" id="connectBtn">Connect</button>
                <button class="btn btn-secondary" id="disconnectBtn" disabled>
                  Disconnect
                </button>
                <button class="btn btn-secondary" id="clearBtn">Clear</button>
              </div>
            </div>

            <!-- Status & Logs -->
            <div class="demo-panel">
              <h4>📊 Live Monitoring</h4>
              <div class="status-indicator">
                <div class="status-dot" id="statusDot"></div>
                <span id="statusText">Disconnected</span>
              </div>
              <div
                style="
                  display: grid;
                  grid-template-columns: 1fr 1fr;
                  gap: 1rem;
                  margin-bottom: 1rem;
                "
              >
                <div
                  style="
                    text-align: center;
                    padding: 1rem;
                    background: var(--bg-primary);
                    border-radius: 0.5rem;
                  "
                >
                  <div
                    style="
                      font-size: 1.5rem;
                      font-weight: bold;
                      color: var(--primary);
                    "
                    id="messageCount"
                  >
                    0
                  </div>
                  <div style="font-size: 0.8rem; color: var(--text-secondary)">
                    Messages
                  </div>
                </div>
                <div
                  style="
                    text-align: center;
                    padding: 1rem;
                    background: var(--bg-primary);
                    border-radius: 0.5rem;
                  "
                >
                  <div
                    style="
                      font-size: 1.5rem;
                      font-weight: bold;
                      color: var(--success);
                    "
                    id="connectionTime"
                  >
                    0s
                  </div>
                  <div style="font-size: 0.8rem; color: var(--text-secondary)">
                    Uptime
                  </div>
                </div>
              </div>
              <div style="margin-bottom: 1rem">
                <label class="form-label">Activity Log</label>
                <div class="logs" id="logContainer">
                  <div class="log-entry info">
                    <span class="log-time">[--:--:--]</span>
                    <span
                      >Ready to connect. Select a protocol and click
                      Connect.</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Examples Section -->
    <section class="examples" id="examples">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Code Examples</h2>
          <p class="section-subtitle">
            Ready-to-use examples for all frameworks
          </p>
        </div>
        <div class="examples-nav">
          <a class="example-tab active" data-example="basic">Basic Usage</a>
          <a class="example-tab" data-example="react">React Hook</a>
          <a class="example-tab" data-example="vue">Vue Composable</a>
          <a class="example-tab" data-example="hls">HLS Streaming</a>
          <a class="example-tab" data-example="webrtc">WebRTC</a>
          <a class="example-tab" data-example="advanced">Advanced</a>
        </div>
        <div class="example-container">
          <div class="example-header">
            <span class="example-title" id="exampleTitle">Basic Usage</span>
            <button class="copy-btn" onclick="copyCode()">📋 Copy</button>
          </div>
          <div class="example-code">
            <pre id="codeBlock"><code class="language-javascript">
// Install the library
npm install js-streaming

// Basic WebSocket example
import { createStream } from 'js-streaming';

const stream = createStream({
  type: 'websocket',
  url: 'wss://api.example.com/ws',
  autoReconnect: true,
  maxRetries: 5
});

// Events
stream.on('open', () => console.log('✅ Connected!'));
stream.on('message', (data) => console.log('📨', data));
stream.on('error', (err) => console.error('❌', err));
stream.on('close', () => console.log('🔴 Disconnected'));

// Connect & send
await stream.open();
stream.send({ message: 'Hello World!' });
</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h4>js-streaming</h4>
            <p style="color: var(--text-secondary); margin-bottom: 1rem">
              The most advanced streaming library for JavaScript. Built with
              performance and developer experience in mind.
            </p>
            <div style="display: flex; gap: 1rem">
              <a
                href="https://github.com/keroloszakaria/js-streaming"
                style="color: var(--primary)"
                >GitHub</a
              >
              <a
                href="https://npmjs.com/package/js-streaming"
                style="color: var(--primary)"
                >npm</a
              >
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2024 js-streaming. Released under the MIT License.</p>
        </div>
      </div>
    </footer>

    <script type="module" src="main.js"></script>
    <script>
      async function updateDownloads() {
        try {
          const res = await fetch(
            "https://api.npmjs.org/downloads/point/last-month/js-streaming"
          );
          const data = await res.json();
          document.getElementById("downloadCount").textContent =
            data.downloads.toLocaleString();
        } catch (err) {
          console.error("Failed to fetch downloads:", err);
          document.getElementById("downloadCount").textContent = "N/A";
        }
      }
      updateDownloads();
    </script>
  </body>
</html>
